(this["webpackJsonpkanban-web"]=this["webpackJsonpkanban-web"]||[]).push([[0],[,,,,,,,,,,,function(e,t,a){e.exports=a(27)},,,,,function(e,t,a){},,,function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),i=a(10),o=a.n(i),c=(a(16),a(2)),l=a(1),s=a(4),d=a(3),m=(a(19),function(e){return r.a.createElement("header",null,e.children)});var u=function(e){return r.a.createElement("button",{className:e.name,onClick:e.onAction,type:e.type},e.value)},b=(a(20),function(e){return r.a.createElement("div",{className:"table",key:Object(d.v4)()},r.a.createElement("div",{className:"tableHeader"},0!==e.position?r.a.createElement(u,{value:"\u25c4",onAction:e.onDirection[0].bind(void 0,e)}):null,r.a.createElement(u,{value:"\u25ba",onAction:e.onDirection[1].bind(void 0,e)}),e.cards.length>0?r.a.createElement(u,{value:"+",onAction:e.onRemove[1].bind(void 0,e)}):null,r.a.createElement(u,{value:"\u2612",onAction:e.onRemove[0].bind(void 0,e)})),r.a.createElement("h4",null,e.name),r.a.createElement("div",{className:"tableBody"},e.children))}),p=(a(21),function(e){return r.a.createElement("form",{className:e.className,method:e.method,onSubmit:e.onSubmit},r.a.createElement("h4",null,e.name),e.children)}),v=(a(22),function(e){return r.a.createElement("div",{className:e.className},r.a.createElement("label",null,e.label),r.a.createElement("input",{type:e.type,name:e.name,value:e.value,placeholder:e.placeholder,onChange:e.onChange,required:e.required,min:e.min,max:e.max,step:e.step}))}),f=function(e){return r.a.createElement("div",{className:e.className},r.a.createElement("label",null,e.label),r.a.createElement("textarea",{style:e.style,rows:e.size.rows,cols:e.size.cols,type:e.type,name:e.name,value:e.value,onChange:e.onChange,required:e.required}))},E=(a(23),function(e){var t=new Date;return r.a.createElement("div",{className:"card",style:{background:e.card.properties.color},key:Object(d.v4)()},r.a.createElement("div",{className:"cardHeader"},e.children,r.a.createElement("span",{className:"priority"},e.card.priority),r.a.createElement("span",{className:"dateEnd"},e.card.final===t.getFullYear()+"-"+(t.getMonth()+1)+"-"+t.getDate()?"atrasado":"noPrazo")),r.a.createElement("div",{onClick:e.onAction},r.a.createElement("div",null,r.a.createElement("h4",null,e.card.title)),r.a.createElement("p",{className:"description"},e.card.description.slice(0,100)+"... ")))}),h=(a(24),function(e){var t=new Date;return r.a.createElement("div",{className:"card",style:{background:e.card.properties.color},key:Object(d.v4)()},r.a.createElement("div",{className:"cardHeader"},e.children,r.a.createElement("span",{className:"priority"},e.card.priority),r.a.createElement("span",{className:"dateEnd"},e.card.final===t.getFullYear()+"-"+(t.getMonth()+1)+"-"+t.getDate()?"atrasado":"noPrazo")),r.a.createElement("div",{onClick:e.onAction},r.a.createElement("div",null,r.a.createElement("h4",null,e.card.title)),r.a.createElement("p",{className:"description"},e.card.description.slice())))}),O=(a(25),function(e){return r.a.createElement(r.a.Fragment,null,e.show?r.a.createElement("div",{onClick:e.handleDrop,className:"modal-drop"}):null,r.a.createElement("div",{className:"modalContainer",style:{transform:e.show?"translateY(0vh)":"translateY(-100vh)",opacity:e.show?"1":"0"}},r.a.createElement("div",{className:"modal-header"},r.a.createElement("p",null,e.name),r.a.createElement("span",{onClick:e.handleDrop,className:"close-modal-btn"},"x")),r.a.createElement("div",{className:"modal-content"},r.a.createElement("div",{className:"modal-body"},e.children))))}),g={reference:"",metadata:{total_tables:3},tables:[{name:"ToDo",position:0,cards:[]},{name:"In Production",position:1,cards:[]},{name:"Concluded",position:2,cards:[]}]},j=(a(26),function(e,t){return localStorage.getItem(e,t)});var y=function(){var e=this,t=Object(n.useState)(null===JSON.parse(j("@kanban-web/collection",JSON.stringify(g)))?g:JSON.parse(j("@kanban-web/collection",g))),a=Object(s.a)(t,2),i=a[0],o=a[1],y=Object(n.useState)({name:"",position:"",cards:[]}),N=Object(s.a)(y,2),w=N[0],C=N[1],D=Object(n.useState)({position:"",table:"",title:"",description:"",priority:0,initial:"",final:"",properties:{color:"#FFFFFF"}}),A=Object(s.a)(D,2),F=A[0],k=A[1],S=Object(n.useState)({show:!1,table:Object(l.a)({},w)}),q=Object(s.a)(S,2),x=q[0],I=q[1],z=Object(n.useState)({show:!1,card:Object(l.a)({},F)}),P=Object(s.a)(z,2),J=P[0],T=P[1],B=Object(n.useState)({show:!1,card:Object(l.a)({},F)}),R=Object(s.a)(B,2),Y=R[0],H=R[1],M=function(e){e.preventDefault(),"table"===e.target.name?C(Object(l.a)({},w,{name:e.target.value,position:i.tables.length})):k(Object(l.a)({},F,{title:"title"===e.target.name?e.target.value:F.title,description:"description"===e.target.name?e.target.value:F.description,priority:"priority"===e.target.name?e.target.value:F.priority,initial:"dateInit"===e.target.name?e.target.value:F.initial,final:"dateEnd"===e.target.name?e.target.value:F.final,properties:{color:"color"===e.target.name?e.target.value:F.properties.color}}))},_=function(e){T(Object(l.a)({},J,{card:Object(l.a)({},J.card,{title:"title"===e.target.name?e.target.value:J.card.title,description:"description"===e.target.name?e.target.value:J.card.description,priority:"priority"===e.target.name?e.target.value:J.card.priority,initial:"dateInit"===e.target.name?e.target.value:J.card.initial,final:"dateEnd"===e.target.name?e.target.value:J.card.final,properties:{color:"color"===e.target.name?e.target.value:J.card.properties.color}})}))},G=function(e){var t=i.tables.filter((function(t){return t.position!==e.position}));t.map((function(e,t){return e.position=t})),o(Object(l.a)({},i,{metadata:t.length,tables:t}))},K=function(e){if(e.position>0){var t=Object(l.a)({},e,{position:e.position-1,children:[]}),a=i.tables.filter((function(e){return e.position===t.position}))[0];a=Object(l.a)({},a,{position:a.position+1});var n=i.tables.filter((function(e){return e.position!==a.position&&e.position!==t.position}));n=[].concat(Object(c.a)(n),[t,a]),Q(n),o(Object(l.a)({},i,{tables:n}))}},L=function(e){if(e.position<i.tables.length-1){var t=Object(l.a)({},e,{position:e.position+1,children:[]}),a=i.tables.filter((function(e){return e.position===t.position}))[0];a=Object(l.a)({},a,{position:a.position-1});var n=i.tables.filter((function(e){return e.position!==a.position&&e.position!==t.position}));n=[].concat(Object(c.a)(n),[t,a]),Q(n),o(Object(l.a)({},i,{tables:n}))}},Q=function(e){e.sort((function(e,t){return e.position>t.position?1:e.position<t.position?-1:0}))},U=function(e){$();var t=i.tables.filter((function(t){return t.name!==e.table})),a=i.tables.filter((function(t){return t.name===e.table}))[0],n=a.cards.filter((function(t){return t.position!==e.position}));a.cards=n,t=[].concat(Object(c.a)(t),[a]),Q(t),o(Object(l.a)({},i,{tables:t}))},V=function(e){$();var t=i.tables.filter((function(t){return t.name===e.table}))[0];if(t.position<i.tables.length-1){var a=i.tables.filter((function(e){return e.position===t.position+1}))[0],n=i.tables.filter((function(e){return e.name!==t.name&&e.name!==a.name}));t=Object(l.a)({},t,{cards:t.cards.filter((function(t){return t.position!==e.position}))}),a=Object(l.a)({},a,{cards:[].concat(Object(c.a)(a.cards),[Object(l.a)({},e,{table:a.name,position:a.cards.length,properties:a.position===i.tables.length-1?{color:"#919191"}:Object(l.a)({},e.properties)})])}),n=[].concat(Object(c.a)(n),[t,a]),Q(n),o(Object(l.a)({},i,{tables:n}))}},W=function(e){$();var t=i.tables.filter((function(t){return t.name===e.table}))[0];if(t.position>0){var a=i.tables.filter((function(e){return e.position===t.position-1}))[0],n=i.tables.filter((function(e){return e.name!==t.name&&e.name!==a.name}));t=Object(l.a)({},t,{cards:t.cards.filter((function(t){return t.position!==e.position}))}),a=Object(l.a)({},a,{cards:[].concat(Object(c.a)(a.cards),[Object(l.a)({},e,{table:a.name,position:a.cards.length,properties:a.position===i.tables.length-1?{color:"#919191"}:{color:"#FFFFFF"}})])}),n=[].concat(Object(c.a)(n),[t,a]),Q(n),o(Object(l.a)({},i,{tables:n}))}},X=function(e){$(),e.name?I({show:!0,table:Object(l.a)({},e),card:Object(l.a)({},F)}):T({show:!0,table:Object(l.a)({},w),card:Object(l.a)({},e)})},Z=function(e){H({show:!0,card:Object(l.a)({},e)})},$=function(){I({show:!1,table:Object(l.a)({},w),card:Object(l.a)({},F)}),T({show:!1,table:Object(l.a)({},w),card:Object(l.a)({},F)}),H({show:!1,card:Object(l.a)({},F)})};return Object(n.useEffect)((function(){return e="@kanban-web/collection",t=JSON.stringify(i),localStorage.setItem(e,t);var e,t}),[i,o]),r.a.createElement(r.a.Fragment,null,r.a.createElement(m,null,"NavBar"),r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"tables"},i.tables.map((function(t){return r.a.createElement(b,{key:Object(d.v4)(),name:t.name,position:t.position,cards:t.cards,onRemove:[G.bind(t),X.bind(t)],onDirection:[K.bind(t),L.bind(t)]},t.cards.map((function(t){return r.a.createElement(E,{key:Object(d.v4)(),card:Object(l.a)({},t),onAction:Z.bind(e,t)},r.a.createElement(u,{value:"edit",onAction:X.bind(e,t)}),r.a.createElement(u,{value:"back",onAction:W.bind(e,t)}),r.a.createElement(u,{value:"go",onAction:V.bind(e,t)}),r.a.createElement(u,{value:"del",onAction:U.bind(e,t)}))})),t.cards.length<=0?r.a.createElement("div",{className:"initial"}," ",r.a.createElement(u,{value:"+",onAction:X.bind(e,t)})," "):null)})),r.a.createElement("div",{className:"newTable"},r.a.createElement(p,{name:"New Table",method:"post",onSubmit:function(e){e.preventDefault(),o(Object(l.a)({},i,{metadata:i.tables.length+1,tables:[].concat(Object(c.a)(i.tables),[w])})),C({name:"",position:"",cards:[]})}.bind(w)},r.a.createElement(v,{name:"table",type:"text",value:w.name,onChange:M.bind(w),required:!0}),r.a.createElement(u,{value:"Add Table",type:"submit"})))),r.a.createElement("div",null,r.a.createElement(O,{show:x.show,handleDrop:$,name:"New Card"},r.a.createElement(p,{method:"post",onSubmit:function(e){if(e.preventDefault(),x.show){var t=i.tables.filter((function(e){return e.name===x.table.name}))[0],a=Object(l.a)({},F,{position:t.cards.length,table:t.name}),n=i.tables.filter((function(e){return e.name!==t.name})),r=[].concat(Object(c.a)(t.cards),[a]),s=Object(l.a)({},t,{cards:r});n=[].concat(Object(c.a)(n),[s]),Q(n),o(Object(l.a)({},i,{tables:n})),k({position:"",table:"",title:"",description:"",priority:0,initial:"",final:"",properties:{color:"#FFFFFF"}}),$()}}.bind(x)},r.a.createElement(v,{className:"inputColor",type:"color",name:"color",value:F.properties.color,required:!1,onChange:M.bind(x)}),r.a.createElement(v,{className:"input",label:"Titulo",name:"title",value:F.title,required:!0,onChange:M.bind(x)}),r.a.createElement(f,{className:"textArea",style:{resize:"none"},size:{rows:"5",cols:"23"},label:"Descri\xe7\xe3o",name:"description",value:F.description,required:!0,onChange:M.bind(x)}),r.a.createElement(v,{className:"inputDate",type:"date",label:"Data In\xedcio",name:"dateInit",value:F.initial,required:!0,onChange:M.bind(x)}),r.a.createElement(v,{className:"inputDate",type:"date",label:"Previs\xe3o de Conclus\xe3o",name:"dateEnd",value:F.final,required:!1,onChange:M.bind(x)}),r.a.createElement(v,{className:"scrollRange",type:"range",step:1,min:0,max:3,label:"Prioridade: "+F.priority,name:"priority",value:F.priority,required:!1,onChange:M.bind(x)}),r.a.createElement("div",{className:"formButton"},r.a.createElement(u,{value:"Adicionar",type:"onSubmit"}),r.a.createElement(u,{value:"Cancelar",onAction:$})))),r.a.createElement(O,{show:J.show,handleDrop:$,name:"Edit Card"},r.a.createElement(p,{method:"post",onSubmit:function(e){e.preventDefault();var t=i.tables.filter((function(e){return e.name===J.card.table})).pop(),a=i.tables.filter((function(e){return e.name!==J.card.table})),n=t.cards.filter((function(e){return e.position===J.card.position})).pop();t=Object(l.a)({},t,{cards:t.cards.filter((function(e){return e.position!==J.card.position}))}),n=Object(l.a)({},J.card);var r=[].concat(Object(c.a)(t.cards),[n]);Q(r),t=Object(l.a)({},t,{cards:r}),a=[].concat(Object(c.a)(a),[t]),Q(a),o(Object(l.a)({},i,{tables:a})),$()}.bind(x)},r.a.createElement(v,{className:"inputColor",type:"color",label:"color",name:"color",value:J.card.properties.color,required:!1,onChange:_.bind(J)}),r.a.createElement(v,{className:"input",label:"Titulo",name:"title",value:J.card.title,required:!1,onChange:_.bind(J)}),r.a.createElement(f,{className:"textArea",style:{resize:"none"},size:{rows:"5",cols:"23"},label:"Descri\xe7\xe3o",name:"description",value:J.card.description,required:!1,onChange:_.bind(J)}),r.a.createElement(v,{className:"inputDate",type:"date",label:"Data In\xedcio",name:"dateInit",value:J.card.initial,required:!1,onChange:_.bind(J)}),r.a.createElement(v,{className:"inputDate",type:"date",label:"Previs\xe3o de Conclus\xe3o",name:"dateEnd",value:J.card.final,required:!1,onChange:_.bind(J)}),r.a.createElement(v,{className:"scrollRange",type:"range",step:1,min:0,max:3,label:"Prioridade: "+J.card.priority,name:"priority",value:J.card.priority,required:!1,onChange:_.bind(J)}),r.a.createElement("div",{className:"formButton"},r.a.createElement(u,{value:"Editar",type:"onSubmit"}),r.a.createElement(u,{value:"Cancelar",onAction:$})))),r.a.createElement(O,{show:Y.show,handleDrop:$,name:Y.card.title},r.a.createElement(h,{card:Object(l.a)({},Y.card)},r.a.createElement(u,{value:"\u270e",onAction:X.bind(this,Y.card)}),r.a.createElement(u,{value:"\u2611",onAction:W.bind(this,Y.card)}),r.a.createElement(u,{value:"\u2611",onAction:V.bind(this,Y.card)}),r.a.createElement(u,{value:"\u2612",onAction:U.bind(this,Y.card)}))))))};o.a.render(r.a.createElement(y,null),document.getElementById("root"))}],[[11,1,2]]]);
//# sourceMappingURL=main.acc012e6.chunk.js.map