(this["webpackJsonpkanban-web"]=this["webpackJsonpkanban-web"]||[]).push([[0],[,,,,,,,,,,,,,,,function(e,t,a){e.exports=a.p+"static/media/close.43875f2e.svg"},function(e,t,a){e.exports=a(32)},,,,,function(e,t,a){},,,function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(14),i=a.n(c),o=(a(21),a(2)),l=a(3),s=a(4),p=a(5),u=a(9),b=function(e,t){return localStorage.getItem(e,t)},d={reference:"",metadata:{total_tables:3},tables:[{name:"ToDo",position:0,cards:[]},{name:"In Production",position:1,cards:[]},{name:"Concluded",position:2,cards:[]}]},m=Object(n.createContext)();function f(e){var t=e.children,a=Object(n.useState)(null===JSON.parse(b("@kanban-web/collection",JSON.stringify(d)))?d:JSON.parse(b("@kanban-web/collection",d))),c=Object(u.a)(a,2),i=c[0],o=c[1];return Object(n.useEffect)((function(){return e="@kanban-web/collection",t=JSON.stringify(i),localStorage.setItem(e,t);var e,t}),[i,o]),r.a.createElement(m.Provider,{value:{data:i,setData:o}},t)}var h=a(6),v=a(1),O=a(7),j=function(e){e.sort((function(e,t){return e.position>t.position?1:e.position<t.position?-1:0}))},E={type:"NEW_CARD"},y={type:"NEW_TABLE"},N={type:"DEFAULT"},w={card:{position:"",table:"",title:"",description:"",priority:"Normal",initial:"",final:"",properties:{color:"#FFFFFF"}},table:{name:"",position:"",cards:[]}};function g(e,t){switch(t.type){case"NEW_CARD":return Object(v.a)({},w,{card:t.payload});case"NEW_TABLE":return Object(v.a)({},w,{table:t.payload});case"DEFAULT":return w;default:throw new Error}}var k=function(e){Object(p.a)(a,e);var t=Object(s.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(l.a)(a,[{key:"render",value:function(){return r.a.createElement("button",{className:this.props.name,onClick:this.props.onAction,type:this.props.type},this.props.value)}}]),a}(n.Component),C=(a(24),function(e){var t=Object(n.useContext)(m),a=t.data,c=t.setData;return r.a.createElement("div",{className:"table",key:Object(O.v4)()},r.a.createElement("div",{className:"tableHeader"},r.a.createElement(k,{value:"\u25c0",onAction:function(e){if(e.position>0){var t=Object(v.a)({},e,{position:e.position-1,children:[]}),n=a.tables.filter((function(e){return e.position===t.position}))[0];n=Object(v.a)({},n,{position:n.position+1});var r=a.tables.filter((function(e){return e.position!==n.position&&e.position!==t.position}));r=[].concat(Object(h.a)(r),[t,n]),j(r),c(Object(v.a)({},a,{tables:r}))}}.bind(void 0,e.table)}),r.a.createElement(k,{value:"\u25b6",onAction:function(e){if(e.position<a.tables.length-1){var t=Object(v.a)({},e,{position:e.position+1,children:[]}),n=a.tables.filter((function(e){return e.position===t.position}))[0];n=Object(v.a)({},n,{position:n.position-1});var r=a.tables.filter((function(e){return e.position!==n.position&&e.position!==t.position}));r=[].concat(Object(h.a)(r),[t,n]),j(r),c(Object(v.a)({},a,{tables:r}))}}.bind(void 0,e.table)}),0!==e.table.cards.length?r.a.createElement(k,{value:"\ud83d\udccc",onAction:e.onAction}):null,r.a.createElement(k,{value:"\u26d4",onAction:function(e){var t=a.tables.filter((function(t){return t.name!==e.name}));t.map((function(e,t){return e.position=t})),c(Object(v.a)({},a,{metadata:t.length,tables:t}))}.bind(void 0,e.table)})),r.a.createElement("h4",null,e.table.name),r.a.createElement("div",null,e.children))});a(25);a(26);var A=function(e){Object(p.a)(a,e);var t=Object(s.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(l.a)(a,[{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"card",style:{background:this.props.card.properties.color},key:Object(O.v4)()},r.a.createElement("div",{className:"cardHeader"},this.props.children,r.a.createElement("div",{className:"priority"},function(e){var t=(new Date).getFullYear()+"-"+((new Date).getMonth()+1)+"-"+(new Date).getDate();return t<e?r.a.createElement("span",{style:{background:"#00ff00"},className:"date-alert"}):t===e?r.a.createElement("span",{style:{background:"#ffff00"},className:"date-alert"}):t>e&&""!==e?r.a.createElement("span",{style:{background:"#ff0000"},className:"date-alert"}):null}(this.props.card.final))),r.a.createElement("div",{className:"card-body",onClick:this.props.onAction.bind(this,this.props)},r.a.createElement("p",{className:"card-title"},this.props.card.title),r.a.createElement("p",{className:"description"},this.props.card.description.slice(0,150)+"... "))))}}]),a}(n.Component),D=(a(27),function(e){Object(p.a)(a,e);var t=Object(s.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(l.a)(a,[{key:"render",value:function(){return r.a.createElement("form",{className:this.props.className,method:this.props.method,onSubmit:this.props.onSubmit},this.props.name?r.a.createElement("h4",null,this.props.name):null,this.props.children)}}]),a}(n.Component)),F=function(e){Object(p.a)(a,e);var t=Object(s.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(l.a)(a,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:this.props.className},r.a.createElement("label",null,this.props.label),r.a.createElement("input",{type:this.props.type,name:this.props.name,value:this.props.value,placeholder:this.props.placeholder,onChange:function(t){return e.props.onInput(t.target.value)},required:this.props.required,min:this.props.min,max:this.props.max,step:this.props.step}),this.props.children)}}]),a}(n.Component),I=function(e){Object(p.a)(a,e);var t=Object(s.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(l.a)(a,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:this.props.className},r.a.createElement("label",null,this.props.label),r.a.createElement("select",{onChange:function(t){return e.props.onInput(t.target.value)}},this.props.items.map((function(e){return r.a.createElement("option",{value:e},e)}))))}}]),a}(n.Component),S=a(15),x=a.n(S),T=(a(28),function(e){Object(p.a)(a,e);var t=Object(s.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(l.a)(a,[{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,this.props.show?r.a.createElement("div",{onClick:this.props.handleDrop,className:"modal-drop"}):null,r.a.createElement("div",{className:"modal",style:{transform:this.props.show?"translateY(0vh)":"translateY(-100vh)",display:this.props.show?"block":"none",opacity:this.props.show?"1":"0"}},r.a.createElement("div",{className:"modal-header"},r.a.createElement("p",null,this.props.name),r.a.createElement("img",{src:x.a,onClick:this.props.handleDrop,alt:"close",className:"close-modal-btn"})),r.a.createElement("div",{className:"modal-content"},r.a.createElement("div",{className:"modal-body"},this.props.children))))}}]),a}(n.Component)),J=function(e){Object(p.a)(a,e);var t=Object(s.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(l.a)(a,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:this.props.className},r.a.createElement("label",null,this.props.label),r.a.createElement("textarea",{style:this.props.style,rows:this.props.size.rows,cols:this.props.size.cols,type:this.props.type,name:this.props.name,value:this.props.value,onChange:function(t){return e.props.onInput(t.target.value)},required:this.props.required}))}}]),a}(n.Component),P=(a(29),function(e){Object(p.a)(a,e);var t=Object(s.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(l.a)(a,[{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"viewe",style:{background:this.props.card.properties.color},key:Object(O.v4)()},r.a.createElement("div",{className:"controlViewe"},this.props.children),r.a.createElement("div",{className:"headerViewe"},r.a.createElement("span",{className:"dateViewe"},"Data Inicial: ",this.props.card.initial),r.a.createElement("span",{className:"dateViewe"},"Previs\xe3o: ",this.props.card.final)),r.a.createElement("span",{className:"priorityViewe"},"Prioridade: ",r.a.createElement("span",null,this.props.card.priority)),r.a.createElement("div",null,r.a.createElement("p",{className:"description"},this.props.card.description))))}}]),a}(n.Component));a(30);function _(){var e=this,t=Object(n.useContext)(m),a=t.data,c=t.setData,i=Object(n.useReducer)(g,w),o=Object(u.a)(i,2),l=o[0],s=o[1],p=Object(n.useState)({show:!1,card:l.card,modal:""}),b=Object(u.a)(p,2),d=b[0],f=b[1],S=function(e){V();var t=a.tables.filter((function(t){return t.name!==e.table})),n=a.tables.filter((function(t){return t.name===e.table}))[0],r=n.cards.filter((function(t){return t.position!==e.position}));n.cards=r,t=[].concat(Object(h.a)(t),[n]),j(t),c(Object(v.a)({},a,{tables:t}))},x=function(e){var t=a.tables.filter((function(t){return t.name===e.table}))[0];if(t.position<a.tables.length-1){var n=a.tables.filter((function(e){return e.position===t.position+1}))[0],r=a.tables.filter((function(e){return e.name!==t.name&&e.name!==n.name}));t=Object(v.a)({},t,{cards:t.cards.filter((function(t){return t.position!==e.position}))}),n=Object(v.a)({},n,{cards:[].concat(Object(h.a)(n.cards),[Object(v.a)({},e,{table:n.name,position:n.cards.length,properties:n.position===a.tables.length-1?{color:"#919191"}:Object(v.a)({},e.properties)})])}),r=[].concat(Object(h.a)(r),[t,n]),j(r),c(Object(v.a)({},a,{tables:r}))}},_=function(e){var t=a.tables.filter((function(t){return t.name===e.table}))[0];if(t.position>0){var n=a.tables.filter((function(e){return e.position===t.position-1}))[0],r=a.tables.filter((function(e){return e.name!==t.name&&e.name!==n.name}));t=Object(v.a)({},t,{cards:t.cards.filter((function(t){return t.position!==e.position}))}),n=Object(v.a)({},n,{cards:[].concat(Object(h.a)(n.cards),[Object(v.a)({},e,{table:n.name,position:n.cards.length,properties:n.position===a.tables.length-1?{color:"#919191"}:{color:"#FFFFFF"}})])}),r=[].concat(Object(h.a)(r),[t,n]),j(r),c(Object(v.a)({},a,{tables:r}))}},q=function(e){V(),f({show:!0,viewe:!1,card:l.card,modal:"Edit Card"}),s(Object(v.a)({},E,{payload:Object(v.a)({},e)}))},V=function(){f({show:!1,viewe:!1,card:l.card}),s(N)};return r.a.createElement("div",{className:"tables"},a.tables.map((function(t){return r.a.createElement(C,{key:Object(O.v4)(),onAction:function(){return f({show:!0,viewe:!1,card:l.card,table:t,modal:"New Card"})},table:Object(v.a)({},t)},t.cards.map((function(t){return r.a.createElement(A,{key:Object(O.v4)(),card:Object(v.a)({},t),onAction:function(e){return f(Object(v.a)({},e,{viewe:!0}))}},r.a.createElement(k,{value:"edit",onAction:q.bind(e,t)}),r.a.createElement(k,{value:"\u25c0",onAction:_.bind(e,t)}),r.a.createElement(k,{value:"\u25b6",onAction:x.bind(e,t)}),r.a.createElement(k,{value:"\u26d4",onAction:S.bind(e,t)}))})),0===t.cards.length?r.a.createElement("div",{className:"initial"},r.a.createElement(k,{value:"\u2795",onAction:function(){return f({show:!0,viewe:!1,card:l.card,table:t,modal:"New Card"})}})):null)})),r.a.createElement(D,{className:"newTable",name:"New Table",method:"post",onSubmit:function(e){e.preventDefault(),0===a.tables.filter((function(e){return e.name===l.table.name})).length?""!==l.table.name?(c(Object(v.a)({},a,{metadata:{total_tables:a.tables.length+1},tables:[].concat(Object(h.a)(a.tables),[l.table])})),s(N)):window.alert("Name table is required"):window.alert("Name table is already in use")}.bind(l)},r.a.createElement(F,{name:"table",type:"text",value:l.table.name,onInput:function(e){return s(Object(v.a)({},y,{payload:Object(v.a)({},l.table,{name:e,position:a.tables.length})}))}}),r.a.createElement(k,{value:"Add Table",type:"submit"})),r.a.createElement(T,{show:d.show,handleDrop:V,name:d.modal},r.a.createElement(D,{className:"inputCard",method:"post",onSubmit:"Edit Card"===d.modal?function(e){e.preventDefault();var t=a.tables.filter((function(e){return e.name===l.card.table})).pop(),n=a.tables.filter((function(e){return e.name!==l.card.table})),r=t.cards.filter((function(e){return e.position===l.card.position})).pop();t=Object(v.a)({},t,{cards:t.cards.filter((function(e){return e.position!==l.card.position}))}),r=Object(v.a)({},l.card);var i=[].concat(Object(h.a)(t.cards),[r]);j(i),t=Object(v.a)({},t,{cards:i}),n=[].concat(Object(h.a)(n),[t]),j(n),c(Object(v.a)({},a,{tables:n})),V()}.bind(d):function(e){if(e.preventDefault(),d.show&&""!==l.card.title){var t=a.tables.filter((function(e){return e.name===d.table.name}))[0],n=Object(v.a)({},l.card,{position:t.cards.length,table:t.name}),r=a.tables.filter((function(e){return e.name!==t.name})),i=[].concat(Object(h.a)(t.cards),[n]),o=Object(v.a)({},t,{cards:i});r=[].concat(Object(h.a)(r),[o]),j(r),c(Object(v.a)({},a,{tables:r})),s(N),V()}}.bind(d)},r.a.createElement(F,{className:"color",type:"color",name:"color",value:l.card.properties.color,onInput:function(e){return s(Object(v.a)({},E,{payload:Object(v.a)({},l.card,{properties:{color:e}})}))}}),r.a.createElement(F,{className:"title",label:"Titulo",name:"title",value:l.card.title,onInput:function(e){return s(Object(v.a)({},E,{payload:Object(v.a)({},l.card,{title:e})}))}}),r.a.createElement(J,{className:"textArea",style:{resize:"none"},size:{rows:"",cols:""},label:"Descri\xe7\xe3o",name:"description",value:l.card.description,onInput:function(e){return s(Object(v.a)({},E,{payload:Object(v.a)({},l.card,{description:e})}))}}),r.a.createElement(F,{className:"date",type:"date",label:"Data In\xedcio",name:"dateInit",value:l.card.initial,onInput:function(e){return s(Object(v.a)({},E,{payload:Object(v.a)({},l.card,{initial:e})}))}}),r.a.createElement(F,{className:"date",type:"date",label:"Previs\xe3o de Conclus\xe3o",name:"dateEnd",value:l.card.final,onInput:function(e){return s(Object(v.a)({},E,{payload:Object(v.a)({},l.card,{final:e})}))}}),r.a.createElement(I,{className:"priorityField",label:"Prioridade: ",items:["Normal","Mean","High","Immediate"],onInput:function(e){return s(Object(v.a)({},E,{payload:Object(v.a)({},l.card,{priority:e})}))}}),r.a.createElement(k,{value:"Concluir",type:"onSubmit"}),r.a.createElement(k,{value:"Cancelar",onAction:V}))),r.a.createElement(T,{show:d.viewe,handleDrop:V,name:d.card.title},r.a.createElement(P,{card:d.card},d.children)))}var q=function(e){Object(p.a)(a,e);var t=Object(s.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(l.a)(a,[{key:"render",value:function(){return r.a.createElement("header",null,this.props.children)}}]),a}(n.Component),V=function(e){Object(p.a)(a,e);var t=Object(s.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(l.a)(a,[{key:"render",value:function(){return r.a.createElement("nav",{className:"nav-container"},this.props.children)}}]),a}(n.Component),z=(a(31),function(e){Object(p.a)(a,e);var t=Object(s.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(l.a)(a,[{key:"render",value:function(){return r.a.createElement(f,null,r.a.createElement(q,null,r.a.createElement(V,null)),r.a.createElement(_,null))}}]),a}(n.Component));i.a.render(r.a.createElement(z,null),document.getElementById("root"))}],[[16,1,2]]]);
//# sourceMappingURL=main.76006809.chunk.js.map